<?xml version="1.0" encoding="utf-8" ?>
<?xaml-comp compile="true" ?>
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:buttons="clr-namespace:ProcessScaleGenerator.View.Components.Buttons;assembly=ProcessScaleGenerator.View"
    xmlns:elements="clr-namespace:ProcessScaleGenerator.View.Components.Elements;assembly=ProcessScaleGenerator.View"
    xmlns:vm="clr-namespace:ProcessScaleGenerator.ViewModel.Pages.Main.Processes;assembly=ProcessScaleGenerator.ViewModel"
    xmlns:vm2="clr-namespace:ProcessScaleGenerator.ViewModel.Modal.Forms.TableConfigModal;assembly=ProcessScaleGenerator.ViewModel">

    <DataTemplate x:Key="ToastViewData">

        <Border BackgroundColor="{DynamicResource Tertiary}" Style="{DynamicResource Border.Radius14}">

            <FlyoutBase.ContextFlyout>
                <MenuFlyout>
                    <MenuFlyoutItem
                        Command="{Binding Path=ShowProcessCommand, Source={RelativeSource AncestorType={x:Type vm:ProcessManagerViewModel}}}"
                        CommandParameter="{Binding .}"
                        Text="Exibir" />
                    <MenuFlyoutItem
                        Command="{Binding Path=UpdateProcessCommand, Source={RelativeSource AncestorType={x:Type vm:ProcessManagerViewModel}}}"
                        CommandParameter="{Binding .}"
                        Text="Editar" />
                    <MenuFlyoutItem
                        Command="{Binding Path=DeleteProcessCommand, Source={RelativeSource AncestorType={x:Type vm:ProcessManagerViewModel}}}"
                        CommandParameter="{Binding .}"
                        Text="Excluir" />
                </MenuFlyout>
            </FlyoutBase.ContextFlyout>

            <Grid ColumnDefinitions="Auto,*">
                <!--  Icon  -->
                <elements:CircularIcon
                    ColorCode="{Binding Icon.ColorCode}"
                    IconSize="50"
                    Unicode="{Binding Icon.Unicode}" />

                <!--  Name  -->
                <Border
                    Grid.Column="1"
                    Margin="5,0,5,0"
                    BackgroundColor="{DynamicResource Primary}"
                    Style="{DynamicResource Border.Radius14}">

                    <Label
                        FontAttributes="Bold"
                        FontSize="25"
                        HorizontalOptions="Center"
                        LineBreakMode="TailTruncation"
                        Text="{Binding Title}"
                        VerticalOptions="Center" />

                </Border>

            </Grid>

        </Border>

    </DataTemplate>

    <DataTemplate x:Key="ToastProcessSelectStyle">

        <Border
            Padding="5"
            BackgroundColor="{DynamicResource Tertiary}"
            Style="{DynamicResource Border.Radius14}">

            <Border.Triggers>
                <DataTrigger
                    Binding="{Binding Source={x:Reference HiddenSwitch}, Path=IsToggled}"
                    TargetType="Border"
                    Value="True">
                    <Setter Property="Opacity" Value=".7" />
                </DataTrigger>
            </Border.Triggers>

            <Grid ColumnDefinitions="Auto,*,Auto">

                <!--  Icon  -->
                <elements:CircularIcon
                    ColorCode="{Binding Icon.ColorCode}"
                    IconSize="50"
                    Unicode="{Binding Icon.Unicode}" />

                <!--  Name  -->
                <Border
                    Grid.Column="1"
                    Margin="5,0,5,0"
                    BackgroundColor="{DynamicResource Primary}"
                    Style="{DynamicResource Border.Radius14}">

                    <Label
                        FontAttributes="Bold"
                        FontSize="25"
                        HorizontalOptions="Center"
                        LineBreakMode="TailTruncation"
                        Text="{Binding Title}"
                        VerticalOptions="Center" />

                </Border>

                <!--  Show-Button  -->
                <buttons:FreshSwitch
                    x:Name="HiddenSwitch"
                    Grid.Column="2"
                    Margin="10"
                    IsToggled="{Binding Hidded, Mode=TwoWay}" />

            </Grid>

        </Border>

    </DataTemplate>

</ResourceDictionary>