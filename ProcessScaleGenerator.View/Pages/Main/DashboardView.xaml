<?xml version="1.0" encoding="utf-8" ?>
<ContentView
    x:Class="ProcessScaleGenerator.View.Pages.Main.DashboardView"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:buttons="clr-namespace:ProcessScaleGenerator.View.Components.Buttons"
    xmlns:elements="clr-namespace:ProcessScaleGenerator.View.Components.Elements"
    xmlns:icon="clr-namespace:ProcessScaleGenerator.Shared.Constants.Fonts;assembly=ProcessScaleGenerator.Shared"
    x:Name="Root"
    NavigationPage.HasNavigationBar="False">

    <Grid
        Grid.Row="1"
        ColumnDefinitions="*,2*"
        ColumnSpacing="6">

        <!--  Left  -->
        <Grid
            Padding="20,20,0,0"
            RowDefinitions="Auto,Auto,*"
            RowSpacing="5">

            <Label
                FontAttributes="Bold"
                FontSize="35"
                Text="Visão geral"
                TextColor="{DynamicResource PrimaryText}" />

            <!--  Container 1  -->
            <Grid
                Grid.Row="1"
                ColumnDefinitions="*,*"
                ColumnSpacing="5"
                RowDefinitions="*,*"
                RowSpacing="5">

                <elements:TableInfoBlock
                    BarColor="{DynamicResource Normal}"
                    Count="1"
                    Description="Criados"
                    TitleText="Total processos"
                    Unicode="{StaticResource FAS_Clipboard}" />

                <elements:TableInfoBlock
                    Grid.Column="1"
                    BarColor="{DynamicResource Normal}"
                    Count="1"
                    Description="Registrados"
                    TitleText="Total colaboradores"
                    Unicode="{StaticResource FAS_Users}" />

                <elements:TableInfoBlock
                    Grid.Row="1"
                    BarColor="{DynamicResource Error}"
                    Count="1"
                    Description="Ocultos"
                    TitleText="Total processos"
                    Unicode="{StaticResource FAS_EyeSlash}" />
                <elements:TableInfoBlock
                    Grid.Row="1"
                    Grid.Column="1"
                    BarColor="{DynamicResource Error}"
                    Count="1"
                    Description="Ocultos"
                    TitleText="Total colaboradores"
                    Unicode="{StaticResource FAS_EyeSlash}" />

            </Grid>

            <!--  Container 3  -->
            <Border
                Grid.Row="2"
                BackgroundColor="{DynamicResource Primary}"
                Style="{DynamicResource Border.Radius14}">

                <CollectionView
                    HorizontalOptions="Fill"
                    ItemTemplate="{DynamicResource TablePreviewData}"
                    ItemsSource="{Binding Tables}"
                    SelectionMode="None"
                    VerticalOptions="Fill"
                    VerticalScrollBarVisibility="Never">

                    <CollectionView.ItemsLayout>
                        <GridItemsLayout
                            Orientation="Vertical"
                            Span="1"
                            VerticalItemSpacing="5" />
                    </CollectionView.ItemsLayout>

                </CollectionView>

            </Border>

        </Grid>

        <!--  Right  -->
        <Border
            Grid.Column="1"
            BackgroundColor="{DynamicResource Primary}"
            Stroke="{DynamicResource ToyotaBlue}"
            Style="{DynamicResource Border.Radius14}">

            <Grid RowDefinitions="Auto,Auto,*" RowSpacing="5">

                <Label
                    FontAttributes="Bold"
                    FontSize="35"
                    HorizontalTextAlignment="Center"
                    Text="Pré-Visualização da tabela" />

                <buttons:IconButton
                    Grid.Row="1"
                    BackgroundColorCode="{DynamicResource Normal}"
                    Event="{Binding CreateTableCommand}"
                    FontColorCode="{DynamicResource InversePrimaryText}"
                    FontSize="20"
                    HorizontalOptions="Start"
                    TextContent="Gerar nova tabela"
                    Unicode="{StaticResource FAS_ArrowsRotate}"
                    UnicodeFamily="FAS" />

                <buttons:IconButton
                    Grid.Row="1"
                    BackgroundColorCode="{DynamicResource Success}"
                    Event="{Binding SaveTableCommand}"
                    FontColorCode="{DynamicResource InversePrimaryText}"
                    FontSize="20"
                    HorizontalOptions="End"
                    TextContent="Salvar atual"
                    Unicode="{StaticResource FAS_FloppyDisk}"
                    UnicodeFamily="FAS" />

                <Border
                    Grid.Row="2"
                    BackgroundColor="{DynamicResource Tertiar}"
                    StrokeThickness="0"
                    Style="{DynamicResource Border.Radius8}">

                    <ScrollView>

                        <VerticalStackLayout x:Name="MainContainer" />

                    </ScrollView>

                </Border>

            </Grid>

        </Border>

    </Grid>

</ContentView>